<div class="content-wrapper">
    <div class="page-content-wrapper">

        <div class="row mb-4">
            <div class="col-lg-12 d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="page-title">Quản lý Hóa Đơn</h1>
                    <p class="page-subtitle">Tạo và xem lịch sử hóa đơn sửa chữa.</p>
                </div>
                <div>
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addInvoiceModal">
                        <i class="lni lni-plus me-2"></i> Tạo Hóa Đơn Mới
                    </button>
                </div>
            </div>
        </div>

        <div class="card shadow-sm mb-4">

            <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs" id="invoiceTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="all-tab" data-bs-toggle="tab" href="#tab-all" role="tab">Tất Cả (8)</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="unpaid-tab" data-bs-toggle="tab" href="#tab-unpaid" role="tab">Chưa Thanh Toán (2)</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="paid-tab" data-bs-toggle="tab" href="#tab-paid" role="tab">Đã Thanh Toán (6)</a>
                    </li>
                </ul>
            </div>

            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover align-middle">
                        <thead>
                        <tr>
                            <th scope="col">Mã HĐ</th>
                            <th scope="col">Khách Hàng</th>
                            <th scope="col">Ngày Tạo</th>
                            <th scope="col">Tổng Tiền</th>
                            <th scope="col">Trạng Thái</th>
                            <th scope="col">Hành Động</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><strong>#HD001</strong></td>
                            <td>Anh Khôi (Winner X)</td>
                            <td>11/11/2025</td>
                            <td><strong>750.000 VNĐ</strong></td>
                            <td><span class="badge bg-success" style="min-width: 130px;">Đã Thanh Toán</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary"><i class="lni lni-printer"></i> In</button>
                                <button class="btn btn-sm btn-outline-primary"><i class="lni lni-eye"></i> Xem</button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>#HD002</strong></td>
                            <td>Chị Linh (Vision)</td>
                            <td>11/11/2025</td>
                            <td><strong>150.000 VNĐ</strong></td>
                            <td><span class="badge bg-warning text-dark" style="min-width: 130px;">Chưa Thanh Toán</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-success"><i class="lni lni-checkmark"></i> Trả tiền</button>
                                <button class="btn btn-sm btn-outline-primary"><i class="lni lni-pencil"></i> Sửa</button>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>#HD003</strong></td>
                            <td>Khách vãng lai</td>
                            <td>12/11/2025</td>
                            <td><strong>350.000 VNĐ</strong></td>
                            <td><span class="badge bg-success" style="min-width: 130px;">Đã Thanh Toán</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-secondary"><i class="lni lni-printer"></i> In</button>
                                <button class="btn btn-sm btn-outline-primary"><i class="lni lni-eye"></i> Xem</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addInvoiceModal" tabindex="-1" aria-labelledby="addInvoiceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl"> <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addInvoiceModalLabel">Tạo Hóa Đơn / Phiếu Sửa Chữa Mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="newInvoiceForm">

                    <h5>1. Thông Tin Khách Hàng</h5>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="invCustomerName" class="form-label">Tên Khách Hàng</label>
                            <input type="text" class="form-control" id="invCustomerName" placeholder="Bỏ trống nếu là khách vãng lai">
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="invCustomerPhone" class="form-label">Số Điện Thoại</label>
                            <input type="tel" class="form-control" id="invCustomerPhone" placeholder="090...">
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="invCustomerVehicle" class="form-label">Loại Xe</label>
                            <input type="text" class="form-control" id="invCustomerVehicle" placeholder="Ví dụ: Sirius, Winner X...">
                        </div>
                    </div>
                    <hr>

                    <h5>2. Chi Tiết Hóa Đơn</h5>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="invServices" class="form-label">Dịch Vụ Đã Làm</label>
                            <select multiple class="form-select" id="invServices" size="5">
                                <option value="1">Thay Nhớt (150.000)</option>
                                <option value="2">Rửa Xe (50.000)</option>
                                <option value="3">Bảo dưỡng toàn diện (500.000)</option>
                                <option value="4">Sửa phanh (80.000)</option>
                            </select>
                            <small class="form-text">Giữ Ctrl (hoặc Cmd) để chọn nhiều dịch vụ.</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="invParts" class="form-label">Phụ Tùng Đã Thay</label>
                            <select multiple class="form-select" id="invParts" size="5">
                                <option value="101">Nhớt Motul 300V (350.000)</option>
                                <option value="102">Lốp Michelin (1.250.000)</option>
                                <option value="103">Bugi NGK (70.000)</option>
                                <option value="104">Nhông sên dĩa (450.000)</option>
                            </select>
                        </div>
                    </div>
                    <hr>

                    <h5>3. Thanh Toán</h5>
                    <div class="row align-items-end">
                        <div class="col-md-4 mb-3">
                            <label for="invTotal" class="form-label">Tổng Tiền (Tự động tính)</label>
                            <input type="text" class="form-control form-control-lg" id="invTotal" value="0 VNĐ" disabled readonly style="font-weight: bold; color: #dc3545;">
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="invStatus" class="form-label">Trạng Thái Hóa Đơn</LAbel>
                            <select class="form-select" id="invStatus" required>
                                <option value="unpaid" selected>Chưa Thanh Toán</option>
                                <option value="paid">Đã Thanh Toán</option>
                            </select>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="invPaymentMethod" class="form-label">Phương Thức</label>
                            <select class="form-select" id="invPaymentMethod">
                                <option value="cash">Tiền Mặt</option>
                                <option value="transfer">Chuyển Khoản</option>
                                <option value="other">Khác</option>
                            </select>
                        </div>
                    </div>

                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="submit" class="btn btn-primary" form="newInvoiceForm"><i class="lni lni-save"></i> Lưu Hóa Đơn</button>
                <button type="submit" class="btn btn-success" form="newInvoiceForm"><i class="lni lni-printer"></i> Lưu & In</button>
            </div>
        </div>
        </div>
    </div>
</div>
<!-- content-wrapper ends -->